"use strict";!function(t){var e="js-modal",a="label_modal_",d="data-modal-background-click",o="data-modal-prefix-class",n="data-modal-text",l="data-modal-content-id",i="data-modal-describedby-id",r="data-modal-title",s="data-modal-focus-toid",c="data-modal-close-text",u="js-modal-close",b="js-modal-close",m="data-content-back-id",f="data-focus-back",g="js-modal-content",v="modal-title",A="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",p="js-modal-page",y="js-modal",h="js-modal-overlay",C="Close modal",k="data-background-click",x="mc-no-scroll",I="aria-hidden",L="aria-haspopup",E="dialog",T=function(e){return t.getElementById(e)},B=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},j=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},M=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)};function D(t,e){for("string"==typeof e&&(e=document.createElement(e)),t.appendChild(e);t.firstChild!==e;)e.appendChild(t.firstChild)}function w(t){t.parentNode.removeChild(t)}var _=function(t,e){for(var a=!1,d=t.parentNode;d&&!1===a;)!0===M(d,e)?a=!0:d=d.parentNode;return!0===a?d.getAttribute("id"):""},H=function(t){var e=h,a=t.text||C,d=t.prefixClass+"modal-overlay",o="disabled"===t.backgroundEnabled?"disabled":"enabled";return'<span\n                    id="'+e+'"\n                    class="'+d+'"\n                    '+k+'="'+o+'"\n                    title="'+a+'"\n                    >\n                    <span class="invisible">'+a+"</span>\n                  </span>"},N=function(t){var e=y,a=t.modalPrefixClass+"modal",d=t.modalPrefixClass+"modal__wrapper",o=t.modalPrefixClass+"modal-close",n='<span class="'+t.modalPrefixClass+'modal-close__text">\n                                          '+t.modalCloseText+"\n                                         </span>",l=t.modalPrefixClass+"modal__content",i=t.modalPrefixClass+"modal-title",r=""!==t.modalTitle?'<div class="js-modal-title-container"><h1 id="'+v+'" class="'+i+'">\n                                          '+t.modalTitle+"\n                                         </h1></div>":"",s='<button type="button" class="'+b+" "+o+'" id="'+u+'" '+m+'="'+t.modalContentId+'" '+f+'="'+t.modalFocusBackId+'"><span class="dashicons dashicons-no" aria-hidden="true"></span>\n                               '+n+"\n                              </button>",c=t.modalText,A=""!==t.modalDescribedById?'aria-describedby="'+t.modalDescribedById+'"':"";if(""===c&&t.modalContentId){var p=T(t.modalContentId);p&&(c='<div id="'+g+'">\n                              '+p.innerHTML+"\n                             </div",p.innerHTML="")}return'<dialog id="'+e+'" class="'+a+'" role="dialog" '+A+' open aria-labelledby="'+v+'">\n                    <div role="document" class="'+d+'">\n                      '+s+'\n                      <div class="'+l+'">\n                        '+r+"\n                        "+c+"\n                      </div>\n                    </div>\n                  </dialog>"},P=function(t){if(w(t.modal),w(t.overlay),""!==t.contentBackId){var e=T(t.contentBackId);e&&(e.innerHTML=t.modalContent)}if(t.modalFocusBackId){var a=T(t.modalFocusBackId);a&&a.focus()}},S=function(){var a=arguments.length<=0||void 0===arguments[0]?t:arguments[0];return[].slice.call(a.querySelectorAll("."+e))},q=function(v){var w=arguments.length<=1||void 0===arguments[1]||arguments[1];S(v).forEach((function(e){var d=Math.random().toString(32).slice(2,12),o=T(p),n=t.querySelector("body");if(e.setAttribute("id",a+d),e.setAttribute(L,E),null===o||0===o.length){var l=t.createElement("DIV");l.setAttribute("id",p),D(n,l)}})),w&&["click","keydown"].forEach((function(a){t.body.addEventListener(a,(function(v){var L=_(v.target,e);if((!0===M(v.target,e)||""!==L)&&"click"===a){var E=t.querySelector("body"),D=""!==L?T(L):v.target,w=!0===D.hasAttribute(o)?D.getAttribute(o)+"-":"",S=!0===D.hasAttribute(n)?D.getAttribute(n):"",q=!0===D.hasAttribute(l)?D.getAttribute(l):"",F=!0===D.hasAttribute(i)?D.getAttribute(i):"",O=!0===D.hasAttribute(r)?D.getAttribute(r):"",R=!0===D.hasAttribute(c)?D.getAttribute(c):C,$=!0===D.hasAttribute(d)?D.getAttribute(d):"",K=!0===D.hasAttribute(s)?D.getAttribute(s):"",V=T(p);E.insertAdjacentHTML("beforeEnd",H({text:R,backgroundEnabled:$,prefixClass:w})),E.insertAdjacentHTML("beforeEnd",N({modalText:S,modalPrefixClass:w,backgroundEnabled:q,modalTitle:O,modalCloseText:R,modalCloseTitle:R,modalContentId:q,modalDescribedById:F,modalFocusBackId:D.getAttribute("id")})),V.setAttribute(I,"true"),B(E,x);var W=T(u);if(""!==K){var z=T(K);z?z.focus():W.focus()}else W.focus();v.preventDefault()}var G=_(v.target,b);if((v.target.getAttribute("id")===u||""!==G||v.target.getAttribute("id")===h||!0===M(v.target,b))&&"click"===a){E=t.querySelector("body"),V=T(p);var J=T(y),Q=T(g)?T(g).innerHTML:"",U=T(h),X=(Z=T(u)).getAttribute(f),Y=Z.getAttribute(m);$=U.getAttribute(k);v.target.getAttribute("id")===h&&"disabled"===$||(P({modal:J,modalContent:Q,overlay:U,modalFocusBackId:X,contentBackId:Y,backgroundEnabled:$,fromId:v.target.getAttribute("id")}),V.removeAttribute(I),j(E,x))}if(T(y)&&"keydown"===a){E=t.querySelector("body"),V=T(p),J=T(y),Q=T(g)?T(g).innerHTML:"",U=T(h),X=(Z=T(u)).getAttribute(f),Y=Z.getAttribute(m);var Z,tt=[].slice.call(J.querySelectorAll(A));27===v.keyCode&&(P({modal:J,modalContent:Q,overlay:U,modalFocusBackId:X,contentBackId:Y}),V.removeAttribute(I),j(E,x)),9===v.keyCode&&tt.indexOf(v.target)>=0&&(v.shiftKey?v.target===tt[0]&&(tt[tt.length-1].focus(),v.preventDefault()):v.target===tt[tt.length-1]&&(tt[0].focus(),v.preventDefault())),9===v.keyCode&&-1===tt.indexOf(v.target)&&(v.preventDefault(),tt[0].focus())}}),!0)}))};document.addEventListener("DOMContentLoaded",(function t(){q(),document.removeEventListener("DOMContentLoaded",t)})),window.van11yAccessibleModalWindowAria=q}(document);